<div class="container-fluid">
    <div class="row mt-5 justify-content-center">
        <div class="col-md-5 text-center">
            <div class="dashboard-card">
                <div class="card-body" *ngIf="(user.user_type === 'admin')">
                    <p class="card-heading" *ngIf="messageList.length === 0">No Message from Users</p>
                    <div *ngIf="messageList.length !== 0">
                        <label><strong><u>Messages</u> </strong></label>
                        <li style="display: flex;" *ngFor="let msg of messageList; let i = index">
                            <ul>
                                <span style="text-transform: capitalize; font-weight: 600;">{{msg.payload.doc.data().user}}</span>({{msg.payload.doc.data().meter_id}}) > {{msg.payload.doc.data().message}} 
                                <span style="font-size: 13px; color: grey;">({{msg.payload.doc.data().date_time.toDate() | date:'medium'}})</span>
                            </ul>
                        </li>
                    </div>
                </div>
                <div class="card-body" *ngIf="(user.user_type === 'user')">
                    <p class="card-heading" *ngIf="messageList.length === 0">No Message from Authority</p>
                    <div *ngIf="messageList.length !== 0">
                        <label><strong><u>Messages</u> </strong></label>
                        <li style="display: flex;" *ngFor="let msg of messageList; let i = index">
                            <ul>
                                > {{msg.payload.doc.data().message}} 
                                <span style="font-size: 13px; color: grey;">({{msg.payload.doc.data().date_time.toDate() | date:'medium'}})</span>
                            </ul>
                        </li>
                    </div>
                </div>
            </div>
            <div class="dashboard-card" style="margin-top: 30px;">
                <div class="card-body d-block">
                    <label *ngIf="(user.user_type === 'admin')"><strong>Send Broadcast</strong></label>
                    <label *ngIf="(user.user_type === 'user')"><strong>Send Message to Authority</strong></label>
                    <textarea 
                        style="width: 100%;"
                        rows="3" 
                        placeholder="Type here.."
                        maxlength="1000"
                        [(ngModel)]="message"
                    >
                    </textarea>
                    <button style="float: left;" type="button" class="btn btn-primary" (click)="sendMessage()">Send</button>
                </div>
            </div>
        </div>
    </div>
</div>
